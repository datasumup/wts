import{c as W,a as ve,r as c,u as Ae,$ as Ye,b as Ge,d as Ze,j as l,g as Je,B as et,S as tt,N as nt,C as rt}from"./index-CbnqWoW5.js";import{$ as le,a as U,b as M,c as L,_ as N,d as j,e as at,f as ot,g as ct,h as st,H as it}from"./index-wdQM-jgP.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=W("Clock10",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 8 10",key:"atfzqc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=W("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=W("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=W("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mt=async()=>(await ve.get("/api/tasks/")).data,pt=()=>Ae({queryKey:["tasks"],queryFn:mt,enabled:!0,retry:!1});function ht(){const[e,t]=c.useState([]),{data:n}=pt();return c.useEffect(()=>{n&&t(n)},[n]),[e]}const bt=Ye.useId||(()=>{});let gt=0;function te(e){const[t,n]=c.useState(bt());return le(()=>{e||n(r=>r??String(gt++))},[e]),e||(t?`radix-${t}`:"")}function yt(e,t=globalThis==null?void 0:globalThis.document){const n=U(e);c.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const ue="dismissableLayer.update",xt="dismissableLayer.pointerDownOutside",$t="dismissableLayer.focusOutside";let he;const Et=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wt=c.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:v,...m}=e,d=c.useContext(Et),[f,b]=c.useState(null),h=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,S]=c.useState({}),u=M(t,$=>b($)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(g),y=f?p.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,E=y>=w,F=Ct($=>{const A=$.target,pe=[...d.branches].some(ee=>ee.contains(A));!E||pe||(o==null||o($),s==null||s($),$.defaultPrevented||v==null||v())},h),D=St($=>{const A=$.target;[...d.branches].some(ee=>ee.contains(A))||(i==null||i($),s==null||s($),$.defaultPrevented||v==null||v())},h);return yt($=>{y===d.layers.size-1&&(a==null||a($),!$.defaultPrevented&&v&&($.preventDefault(),v()))},h),c.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(he=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),be(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=he)}},[f,h,r,d]),c.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),be())},[f,d]),c.useEffect(()=>{const $=()=>S({});return document.addEventListener(ue,$),()=>document.removeEventListener(ue,$)},[]),c.createElement(L.div,N({},m,{ref:u,style:{pointerEvents:x?E?"auto":"none":void 0,...e.style},onFocusCapture:j(e.onFocusCapture,D.onFocusCapture),onBlurCapture:j(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:j(e.onPointerDownCapture,F.onPointerDownCapture)}))});function Ct(e,t=globalThis==null?void 0:globalThis.document){const n=U(e),r=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let m=function(){Pe(xt,n,v,{discrete:!0})};const v={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=m,t.addEventListener("click",a.current,{once:!0})):m()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function St(e,t=globalThis==null?void 0:globalThis.document){const n=U(e),r=c.useRef(!1);return c.useEffect(()=>{const a=o=>{o.target&&!r.current&&Pe($t,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function be(){const e=new CustomEvent(ue);document.dispatchEvent(e)}function Pe(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?at(a,o):a.dispatchEvent(o)}const ne="focusScope.autoFocusOnMount",re="focusScope.autoFocusOnUnmount",ge={bubbles:!1,cancelable:!0},Nt=c.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[s,v]=c.useState(null),m=U(a),d=U(o),f=c.useRef(null),b=M(t,u=>v(u)),h=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let u=function(y){if(h.paused||!s)return;const x=y.target;s.contains(x)?f.current=x:R(f.current,{select:!0})},p=function(y){if(h.paused||!s)return;const x=y.relatedTarget;x!==null&&(s.contains(x)||R(f.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&R(s)};document.addEventListener("focusin",u),document.addEventListener("focusout",p);const w=new MutationObserver(g);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",p),w.disconnect()}}},[r,s,h.paused]),c.useEffect(()=>{if(s){xe.add(h);const u=document.activeElement;if(!s.contains(u)){const g=new CustomEvent(ne,ge);s.addEventListener(ne,m),s.dispatchEvent(g),g.defaultPrevented||(Ot(At(ke(s)),{select:!0}),document.activeElement===u&&R(s))}return()=>{s.removeEventListener(ne,m),setTimeout(()=>{const g=new CustomEvent(re,ge);s.addEventListener(re,d),s.dispatchEvent(g),g.defaultPrevented||R(u??document.body,{select:!0}),s.removeEventListener(re,d),xe.remove(h)},0)}}},[s,m,d,h]);const S=c.useCallback(u=>{if(!n&&!r||h.paused)return;const p=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,g=document.activeElement;if(p&&g){const w=u.currentTarget,[y,x]=Tt(w);y&&x?!u.shiftKey&&g===x?(u.preventDefault(),n&&R(y,{select:!0})):u.shiftKey&&g===y&&(u.preventDefault(),n&&R(x,{select:!0})):g===w&&u.preventDefault()}},[n,r,h.paused]);return c.createElement(L.div,N({tabIndex:-1},i,{ref:b,onKeyDown:S}))});function Ot(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(R(r,{select:t}),document.activeElement!==n)return}function Tt(e){const t=ke(e),n=ye(t,e),r=ye(t.reverse(),e);return[n,r]}function ke(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ye(e,t){for(const n of e)if(!Dt(n,{upTo:t}))return n}function Dt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rt(e){return e instanceof HTMLInputElement&&"select"in e}function R(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Rt(e)&&t&&e.select()}}const xe=jt();function jt(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$e(e,t),e.unshift(t)},remove(t){var n;e=$e(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function $e(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function At(e){return e.filter(t=>t.tagName!=="A")}const Pt=c.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?Ge.createPortal(c.createElement(L.div,N({},a,{ref:t})),r):null});function kt(e,t){return c.useReducer((n,r)=>{const a=t[n][r];return a??n},e)}const Z=e=>{const{present:t,children:n}=e,r=It(t),a=typeof n=="function"?n({present:r.isPresent}):c.Children.only(n),o=M(r.ref,a.ref);return typeof n=="function"||r.isPresent?c.cloneElement(a,{ref:o}):null};Z.displayName="Presence";function It(e){const[t,n]=c.useState(),r=c.useRef({}),a=c.useRef(e),o=c.useRef("none"),i=e?"mounted":"unmounted",[s,v]=kt(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const m=H(r.current);o.current=s==="mounted"?m:"none"},[s]),le(()=>{const m=r.current,d=a.current;if(d!==e){const b=o.current,h=H(m);e?v("MOUNT"):h==="none"||(m==null?void 0:m.display)==="none"?v("UNMOUNT"):v(d&&b!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,v]),le(()=>{if(t){const m=f=>{const h=H(r.current).includes(f.animationName);f.target===t&&h&&Ze.flushSync(()=>v("ANIMATION_END"))},d=f=>{f.target===t&&(o.current=H(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:c.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function H(e){return(e==null?void 0:e.animationName)||"none"}let ae=0;function _t(){c.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Ee()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Ee()),ae++,()=>{ae===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ae--}},[])}function Ee(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var O=function(){return O=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},O.apply(this,arguments)};function Ie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Mt(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Q="right-scroll-bar-position",Y="width-before-scroll-bar",Lt="with-scroll-bars-hidden",Ft="--removed-body-scroll-bar-size";function oe(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ut(e,t){var n=c.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Bt=typeof window<"u"?c.useLayoutEffect:c.useEffect,we=new WeakMap;function Wt(e,t){var n=Ut(null,function(r){return e.forEach(function(a){return oe(a,r)})});return Bt(function(){var r=we.get(n);if(r){var a=new Set(r),o=new Set(e),i=n.current;a.forEach(function(s){o.has(s)||oe(s,null)}),o.forEach(function(s){a.has(s)||oe(s,i)})}we.set(n,e)},[e]),n}function Ht(e){return e}function Kt(e,t){t===void 0&&(t=Ht);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(s){return s!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var s=n;n=[],s.forEach(o),i=n}var v=function(){var d=i;i=[],d.forEach(o)},m=function(){return Promise.resolve().then(v)};m(),n={push:function(d){i.push(d),m()},filter:function(d){return i=i.filter(d),n}}}};return a}function Vt(e){e===void 0&&(e={});var t=Kt(null);return t.options=O({async:!0,ssr:!1},e),t}var _e=function(e){var t=e.sideCar,n=Ie(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,O({},n))};_e.isSideCarExport=!0;function Xt(e,t){return e.useMedium(t),_e}var Me=Vt(),ce=function(){},J=c.forwardRef(function(e,t){var n=c.useRef(null),r=c.useState({onScrollCapture:ce,onWheelCapture:ce,onTouchMoveCapture:ce}),a=r[0],o=r[1],i=e.forwardProps,s=e.children,v=e.className,m=e.removeScrollBar,d=e.enabled,f=e.shards,b=e.sideCar,h=e.noIsolation,S=e.inert,u=e.allowPinchZoom,p=e.as,g=p===void 0?"div":p,w=Ie(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=b,x=Wt([n,t]),E=O(O({},w),a);return c.createElement(c.Fragment,null,d&&c.createElement(y,{sideCar:Me,removeScrollBar:m,shards:f,noIsolation:h,inert:S,setCallbacks:o,allowPinchZoom:!!u,lockRef:n}),i?c.cloneElement(c.Children.only(s),O(O({},E),{ref:x})):c.createElement(g,O({},E,{className:v,ref:x}),s))});J.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};J.classNames={fullWidth:Y,zeroRight:Q};var qt=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zt(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qt();return t&&e.setAttribute("nonce",t),e}function Qt(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Yt(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gt=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zt())&&(Qt(t,n),Yt(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zt=function(){var e=Gt();return function(t,n){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Le=function(){var e=Zt(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Jt={left:0,top:0,right:0,gap:0},se=function(e){return parseInt(e||"",10)||0},en=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[se(n),se(r),se(a)]},tn=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jt;var t=en(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},nn=Le(),_="data-scroll-locked",rn=function(e,t,n,r){var a=e.left,o=e.top,i=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Lt,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(_,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Q,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Y,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Q," .").concat(Q,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Y," .").concat(Y,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_,`] {
    `).concat(Ft,": ").concat(s,`px;
  }
`)},Ce=function(){var e=parseInt(document.body.getAttribute(_)||"0",10);return isFinite(e)?e:0},an=function(){c.useEffect(function(){return document.body.setAttribute(_,(Ce()+1).toString()),function(){var e=Ce()-1;e<=0?document.body.removeAttribute(_):document.body.setAttribute(_,e.toString())}},[])},on=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;an();var o=c.useMemo(function(){return tn(a)},[a]);return c.createElement(nn,{styles:rn(o,!t,a,n?"":"!important")})},de=!1;if(typeof window<"u")try{var K=Object.defineProperty({},"passive",{get:function(){return de=!0,!0}});window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{de=!1}var P=de?{passive:!1}:!1,cn=function(e){return e.tagName==="TEXTAREA"},Fe=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!cn(e)&&n[t]==="visible")},sn=function(e){return Fe(e,"overflowY")},ln=function(e){return Fe(e,"overflowX")},Se=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Ue(e,n);if(r){var a=Be(e,n),o=a[1],i=a[2];if(o>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},un=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},dn=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ue=function(e,t){return e==="v"?sn(t):ln(t)},Be=function(e,t){return e==="v"?un(t):dn(t)},fn=function(e,t){return e==="h"&&t==="rtl"?-1:1},vn=function(e,t,n,r,a){var o=fn(e,window.getComputedStyle(t).direction),i=o*r,s=n.target,v=t.contains(s),m=!1,d=i>0,f=0,b=0;do{var h=Be(e,s),S=h[0],u=h[1],p=h[2],g=u-p-o*S;(S||g)&&Ue(e,s)&&(f+=g,b+=S),s=s.parentNode}while(!v&&s!==document.body||v&&(t.contains(s)||t===s));return(d&&(f===0||!a)||!d&&(b===0||!a))&&(m=!0),m},V=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ne=function(e){return[e.deltaX,e.deltaY]},Oe=function(e){return e&&"current"in e?e.current:e},mn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hn=0,k=[];function bn(e){var t=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),a=c.useState(hn++)[0],o=c.useState(function(){return Le()})[0],i=c.useRef(e);c.useEffect(function(){i.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var u=Mt([e.lockRef.current],(e.shards||[]).map(Oe),!0).filter(Boolean);return u.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),u.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=c.useCallback(function(u,p){if("touches"in u&&u.touches.length===2)return!i.current.allowPinchZoom;var g=V(u),w=n.current,y="deltaX"in u?u.deltaX:w[0]-g[0],x="deltaY"in u?u.deltaY:w[1]-g[1],E,F=u.target,D=Math.abs(y)>Math.abs(x)?"h":"v";if("touches"in u&&D==="h"&&F.type==="range")return!1;var $=Se(D,F);if(!$)return!0;if($?E=D:(E=D==="v"?"h":"v",$=Se(D,F)),!$)return!1;if(!r.current&&"changedTouches"in u&&(y||x)&&(r.current=E),!E)return!0;var A=r.current||E;return vn(A,p,u,A==="h"?y:x,!0)},[]),v=c.useCallback(function(u){var p=u;if(!(!k.length||k[k.length-1]!==o)){var g="deltaY"in p?Ne(p):V(p),w=t.current.filter(function(E){return E.name===p.type&&E.target===p.target&&mn(E.delta,g)})[0];if(w&&w.should){p.cancelable&&p.preventDefault();return}if(!w){var y=(i.current.shards||[]).map(Oe).filter(Boolean).filter(function(E){return E.contains(p.target)}),x=y.length>0?s(p,y[0]):!i.current.noIsolation;x&&p.cancelable&&p.preventDefault()}}},[]),m=c.useCallback(function(u,p,g,w){var y={name:u,delta:p,target:g,should:w};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(x){return x!==y})},1)},[]),d=c.useCallback(function(u){n.current=V(u),r.current=void 0},[]),f=c.useCallback(function(u){m(u.type,Ne(u),u.target,s(u,e.lockRef.current))},[]),b=c.useCallback(function(u){m(u.type,V(u),u.target,s(u,e.lockRef.current))},[]);c.useEffect(function(){return k.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:b}),document.addEventListener("wheel",v,P),document.addEventListener("touchmove",v,P),document.addEventListener("touchstart",d,P),function(){k=k.filter(function(u){return u!==o}),document.removeEventListener("wheel",v,P),document.removeEventListener("touchmove",v,P),document.removeEventListener("touchstart",d,P)}},[]);var h=e.removeScrollBar,S=e.inert;return c.createElement(c.Fragment,null,S?c.createElement(o,{styles:pn(a)}):null,h?c.createElement(on,{gapMode:"margin"}):null)}const gn=Xt(Me,bn);var We=c.forwardRef(function(e,t){return c.createElement(J,O({},e,{ref:t,sideCar:gn}))});We.classNames=J.classNames;var yn=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},I=new WeakMap,X=new WeakMap,q={},ie=0,He=function(e){return e&&(e.host||He(e.parentNode))},xn=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=He(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$n=function(e,t,n,r){var a=xn(t,Array.isArray(e)?e:[e]);q[n]||(q[n]=new WeakMap);var o=q[n],i=[],s=new Set,v=new Set(a),m=function(f){!f||s.has(f)||(s.add(f),m(f.parentNode))};a.forEach(m);var d=function(f){!f||v.has(f)||Array.prototype.forEach.call(f.children,function(b){if(s.has(b))d(b);else try{var h=b.getAttribute(r),S=h!==null&&h!=="false",u=(I.get(b)||0)+1,p=(o.get(b)||0)+1;I.set(b,u),o.set(b,p),i.push(b),u===1&&S&&X.set(b,!0),p===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",b,g)}})};return d(t),s.clear(),ie++,function(){i.forEach(function(f){var b=I.get(f)-1,h=o.get(f)-1;I.set(f,b),o.set(f,h),b||(X.has(f)||f.removeAttribute(r),X.delete(f)),h||f.removeAttribute(n)}),ie--,ie||(I=new WeakMap,I=new WeakMap,X=new WeakMap,q={})}},En=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=yn(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),$n(r,a,n,"aria-hidden")):function(){return null}};const Ke="Dialog",[Ve,tr]=ot(Ke),[wn,T]=Ve(Ke),Cn=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,s=c.useRef(null),v=c.useRef(null),[m=!1,d]=ct({prop:r,defaultProp:a,onChange:o});return c.createElement(wn,{scope:t,triggerRef:s,contentRef:v,contentId:te(),titleId:te(),descriptionId:te(),open:m,onOpenChange:d,onOpenToggle:c.useCallback(()=>d(f=>!f),[d]),modal:i},n)},Sn="DialogTrigger",Nn=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=T(Sn,n),o=M(t,a.triggerRef);return c.createElement(L.button,N({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":me(a.open)},r,{ref:o,onClick:j(e.onClick,a.onOpenToggle)}))}),Xe="DialogPortal",[On,qe]=Ve(Xe,{forceMount:void 0}),Tn=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=T(Xe,t);return c.createElement(On,{scope:t,forceMount:n},c.Children.map(r,i=>c.createElement(Z,{present:n||o.open},c.createElement(Pt,{asChild:!0,container:a},i))))},fe="DialogOverlay",Dn=c.forwardRef((e,t)=>{const n=qe(fe,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=T(fe,e.__scopeDialog);return o.modal?c.createElement(Z,{present:r||o.open},c.createElement(Rn,N({},a,{ref:t}))):null}),Rn=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=T(fe,n);return c.createElement(We,{as:st,allowPinchZoom:!0,shards:[a.contentRef]},c.createElement(L.div,N({"data-state":me(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),B="DialogContent",jn=c.forwardRef((e,t)=>{const n=qe(B,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=T(B,e.__scopeDialog);return c.createElement(Z,{present:r||o.open},o.modal?c.createElement(An,N({},a,{ref:t})):c.createElement(Pn,N({},a,{ref:t})))}),An=c.forwardRef((e,t)=>{const n=T(B,e.__scopeDialog),r=c.useRef(null),a=M(t,n.contentRef,r);return c.useEffect(()=>{const o=r.current;if(o)return En(o)},[]),c.createElement(ze,N({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:j(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,s=i.button===0&&i.ctrlKey===!0;(i.button===2||s)&&o.preventDefault()}),onFocusOutside:j(e.onFocusOutside,o=>o.preventDefault())}))}),Pn=c.forwardRef((e,t)=>{const n=T(B,e.__scopeDialog),r=c.useRef(!1),a=c.useRef(!1);return c.createElement(ze,N({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),o.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:o=>{var i,s;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const v=o.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(v))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),ze=c.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,s=T(B,n),v=c.useRef(null),m=M(t,v);return _t(),c.createElement(c.Fragment,null,c.createElement(Nt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o},c.createElement(wt,N({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":me(s.open)},i,{ref:m,onDismiss:()=>s.onOpenChange(!1)}))),!1)});const kn="DialogClose",In=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=T(kn,n);return c.createElement(L.button,N({type:"button"},r,{ref:t,onClick:j(e.onClick,()=>a.onOpenChange(!1))}))});function me(e){return e?"open":"closed"}const _n=Cn,Mn=Nn,Ln=Tn,Fn=Dn,Un=jn,Bn=In,Te=({closeButtonRef:e,trigger:t,children:n})=>l.jsxs(_n,{children:[l.jsx(Mn,{asChild:!0,children:t}),l.jsxs(Ln,{children:[l.jsx(Fn,{className:"z-[100]  data-[state=open]:animate-overlayShow fixed inset-0"}),l.jsxs(Un,{className:"z-[101] data-[state=open]:animate-contentShow fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-slate-800 text-white p-[25px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none",children:[n,l.jsx(Bn,{asChild:!0,children:l.jsx("button",{className:"text-violet11 hover:bg-violet4 focus:shadow-violet7 absolute top-[10px] right-[10px] inline-flex mb-4 h-[25px] w-[25px] appearance-none items-center justify-center rounded-full focus:shadow-[0_0_0_2px] focus:outline-none","aria-label":"Close",ref:e,children:l.jsx(vt,{})})})]})]})]});var Qe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var s=arguments[i];s&&(o=a(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var s in o)t.call(o,s)&&o[s]&&(i=a(i,s));return i}function a(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Qe);var Wn=Qe.exports;const G=Je(Wn),Hn=({addTrigger:e,className:t})=>{const[n,r]=c.useState({}),a=(i,s)=>{r(v=>({...v,[i]:s}))},o=i=>{i.preventDefault(),console.log(n),e(n).then(()=>{r({}),et.success("Trigger added successfully")})};return l.jsxs("form",{onSubmit:o,className:G("space-y-4",t),children:[l.jsx("div",{children:l.jsxs("label",{className:"block",children:["Start Date:",l.jsx("input",{type:"date",value:n.StartDate,onChange:i=>a("StartDate",i.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"})]})}),l.jsx("div",{children:l.jsxs("label",{className:"block",children:["Start Time:",l.jsx("input",{type:"time",value:n.StartTime,onChange:i=>a("StartTime",i.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"})]})}),n.RunOnce?null:l.jsx("div",{children:l.jsxs("label",{className:"block",children:["Interval (HH:MM:SS):",l.jsxs("div",{className:"flex justify-start items-center space-x-1",children:[l.jsx("input",{type:"number",min:0,max:23,value:n.IntervalHours,onChange:i=>a("IntervalHours",parseInt(i.target.value)),placeholder:"HH",className:"mt-1 block w-1/5 rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"}),l.jsx("span",{children:":"}),l.jsx("input",{type:"number",value:n.IntervalMinutes,min:0,max:59,onChange:i=>a("IntervalMinutes",parseInt(i.target.value)),placeholder:"MM",className:"mt-1 block w-1/5 rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"}),l.jsx("span",{children:":"}),l.jsx("input",{type:"number",value:n.IntervalSeconds,min:0,max:59,onChange:i=>a("IntervalSeconds",parseInt(i.target.value)),placeholder:"SS",className:"mt-1 block w-1/5 rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"})]})]})}),l.jsxs("div",{className:"flex items-center justify-start space-x-1",children:[l.jsx("input",{type:"checkbox",onChange:i=>a("RunOnce",i.target.checked),className:"mt-1 h-5 w-5 rounded",checked:n.RunOnce}),l.jsx("label",{className:"block",children:"Run Once"})]}),l.jsxs("div",{className:"flex items-center justify-start space-x-1",children:[l.jsx("input",{type:"checkbox",checked:n.RemoveExistingTriggers,onChange:i=>a("RemoveExistingTriggers",i.target.checked),className:"mt-1 h-5 w-5 rounded"}),l.jsx("label",{className:"block",children:"Clear Existing Triggers"})]}),n.RemoveExistingTriggers?l.jsxs("div",{className:"bg-orange-200 border-orange-700 border text-red-900 p-1 rounded flex items-center space-x-1",children:[l.jsx(ft,{className:"h-4 w-4"})," ",l.jsx("span",{className:"text-sm",children:"All the existing triggers will be removed."})]}):null,l.jsx("div",{children:l.jsx("input",{type:"submit",value:"Add Trigger",className:"w-full py-2 px-4 text-white bg-blue-500 rounded hover:bg-blue-600"})})]})},Kn=({className:e,children:t})=>l.jsxs("div",{className:G("relative flex items-center justify-center mx-2",e),children:[l.jsx("div",{"data-path":!0,className:"rounded-full border-4 relative border-green-200 flex items-center justify-center",children:l.jsx("div",{"data-child":!0,className:"p-1 h-full w-full flex justify-center items-center",children:t})}),l.jsx("div",{"data-spinning":!0,className:"peer h-full w-2 border-0 border-t-4 rounded-full border-green-600 animate-spin absolute"})]}),De=async e=>(await ve.post("/api/queue/",e)).data,Vn=async e=>(await ve.get(`/api/queue/${e}`)).data??[],Xn=e=>Ae({queryKey:["tasks",e],queryFn:async()=>Vn(e),enabled:!0,retry:!1});function qn(e){const[t,n]=c.useState([]),{data:r}=Xn(e);return c.useEffect(()=>{r&&n(r)},[r]),[t]}let z;const zn=new Uint8Array(16);function Qn(){if(!z&&(z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(zn)}const C=[];for(let e=0;e<256;++e)C.push((e+256).toString(16).slice(1));function Yn(e,t=0){return C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]}const Gn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Re={randomUUID:Gn};function je(e,t,n){if(Re.randomUUID&&!t&&!e)return Re.randomUUID();e=e||{};const r=e.random||(e.rng||Qn)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Yn(r)}const Zn=({task:e,className:t})=>{var v,m;const[n,r]=c.useState(!1),[a]=qn(e.Id),o=c.useRef(null),i=()=>{r(!0),De({TaskId:e.Id,Operation:"ExecuteNow",Payload:"{}",CreatedOn:Date.now(),Id:je(),CompletedOn:null,Message:null}).finally(()=>r(!1))},s=d=>(r(!0),De({TaskId:e.Id,Operation:"Schedule",Payload:JSON.stringify(d),CreatedOn:Date.now(),Id:je(),CompletedOn:null,Message:null}).then(()=>{var f;return(f=o.current)==null?void 0:f.click()}).finally(()=>r(!1)));return l.jsxs("div",{className:G("flex flex-col bg-slate-900 w-full p-4 max-w-2xl mt-4 rounded-lg shadow-md space-y-2",t),children:[l.jsx("div",{className:"text-green-300 font-bold text-xl",children:e.Name}),l.jsx("div",{className:"bg-blue-900 text-blue-300 w-fit px-4 py-1 rounded",children:e.Status}),l.jsx("div",{className:"bg-slate-800 text-white p-2 rounded",children:e.Description}),l.jsx("div",{className:"text-white",children:(m=(v=e.Trigger)==null?void 0:v.split("-:::-"))==null?void 0:m.map((d,f)=>l.jsx("div",{children:d},f))}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[n?l.jsx(Kn,{}):null," ",l.jsx(Te,{trigger:l.jsxs("button",{className:"bg-blue-600 text-white h-8 space-x-2 px-2 rounded flex justify-center items-center disabled:bg-blue-400 disabled:cursor-not-allowed",disabled:n,children:[l.jsx(ut,{className:"h-4 w-4"})," History"]}),children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{className:"rounded my-1 bg-green-600 text-white",children:[l.jsx("th",{className:"text-left px-1",children:"Operation"}),l.jsx("th",{className:"text-left px-1",children:"Created On"}),l.jsx("th",{className:"text-left px-1",children:"Completed On"}),l.jsx("th",{className:"text-left px-1",children:"Message"})]})}),l.jsx("tbody",{children:a==null?void 0:a.map(d=>l.jsxs("tr",{className:G("p-2 bg-slate-800 rounded my-1 text-white",{}),children:[l.jsx("td",{className:"text-left px-1",children:d.Operation}),l.jsx("td",{className:"text-left px-1",children:new Date(d.CreatedOn).toLocaleString()}),l.jsx("td",{className:"text-left px-1",children:d.CompletedOn?new Date(d.CompletedOn*1e3).toLocaleString():null}),l.jsx("td",{className:"text-left px-1",children:d.Message})]},d.Id))})]})}),l.jsx(tt,{roles:["CCAA.Custom.Owner"],children:l.jsx(Te,{closeButtonRef:o,trigger:l.jsxs("button",{className:"bg-orange-600 text-white h-8 space-x-2 px-2 rounded flex justify-center items-center disabled:bg-orange-400 disabled:cursor-not-allowed",disabled:n,children:[l.jsx(lt,{className:"h-4 w-4"})," Schedule"]}),children:l.jsx(Hn,{addTrigger:s,className:"min-w-72"})})}),l.jsxs("button",{className:"bg-green-500 text-white h-8 space-x-2 px-2 rounded flex justify-center items-center disabled:bg-green-400 disabled:cursor-not-allowed",disabled:n,onClick:i,children:[l.jsx(dt,{className:"h-4 w-4"})," Run Now"]})]})]})},nr=({})=>{const[e]=ht();return l.jsx("div",{className:"h-full w-full flex flex-col items-center p-2",children:l.jsxs("div",{className:"w-full lg:w-1/2 2xl:w-1/3 ",children:[l.jsx("div",{className:"w-72",children:l.jsxs(nt,{to:"/home",className:"text-blue-300 flex justify-start items-center underline mb-8 hover:text-green-400 cursor-pointer",children:[l.jsx(it,{className:"h-6 w-6 mr-2"})," Home"]})}),l.jsxs("div",{className:"text-2xl font-semibold col-span-2 flex justify-start items-center my-4 text-slate-300",children:[l.jsx(rt,{className:"h-7 w-7 mr-2"})," Windows Task Management"]}),e==null?void 0:e.map(t=>l.jsx(Zn,{task:t},t.Id))]})})};export{nr as HomePage,nr as default};
