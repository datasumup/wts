import{c as W,a as ve,r as o,u as ke,$ as Qe,b as Ye,d as Ge,j as l,B as Ze,S as Je,N as et,C as tt}from"./index-Dk_T4bw2.js";import{$ as le,a as U,b as M,c as L,_ as N,d as j,e as nt,f as rt,g as at,h as ot}from"./index-y3xhtCR4.js";import{c as G}from"./index-DomqWLAA.js";import{H as ct}from"./home-DtiL7Muk.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=W("Clock10",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 8 10",key:"atfzqc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=W("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=W("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=W("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ft=async()=>(await ve.get("/api/tasks/")).data,vt=()=>ke({queryKey:["tasks"],queryFn:ft,enabled:!0,retry:!1});function mt(){const[e,t]=o.useState([]),{data:n}=vt();return o.useEffect(()=>{n&&t(n)},[n]),[e]}const pt=Qe.useId||(()=>{});let ht=0;function te(e){const[t,n]=o.useState(pt());return le(()=>{e||n(r=>r??String(ht++))},[e]),e||(t?`radix-${t}`:"")}function gt(e,t=globalThis==null?void 0:globalThis.document){const n=U(e);o.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const ue="dismissableLayer.update",bt="dismissableLayer.pointerDownOutside",yt="dismissableLayer.focusOutside";let he;const xt=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$t=o.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:i,onInteractOutside:s,onDismiss:v,...m}=e,d=o.useContext(xt),[f,g]=o.useState(null),h=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,S]=o.useState({}),u=M(t,$=>g($)),p=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(b),y=f?p.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,E=y>=w,F=Et($=>{const k=$.target,pe=[...d.branches].some(ee=>ee.contains(k));!E||pe||(c==null||c($),s==null||s($),$.defaultPrevented||v==null||v())},h),D=wt($=>{const k=$.target;[...d.branches].some(ee=>ee.contains(k))||(i==null||i($),s==null||s($),$.defaultPrevented||v==null||v())},h);return gt($=>{y===d.layers.size-1&&(a==null||a($),!$.defaultPrevented&&v&&($.preventDefault(),v()))},h),o.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(he=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),ge(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=he)}},[f,h,r,d]),o.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),ge())},[f,d]),o.useEffect(()=>{const $=()=>S({});return document.addEventListener(ue,$),()=>document.removeEventListener(ue,$)},[]),o.createElement(L.div,N({},m,{ref:u,style:{pointerEvents:x?E?"auto":"none":void 0,...e.style},onFocusCapture:j(e.onFocusCapture,D.onFocusCapture),onBlurCapture:j(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:j(e.onPointerDownCapture,F.onPointerDownCapture)}))});function Et(e,t=globalThis==null?void 0:globalThis.document){const n=U(e),r=o.useRef(!1),a=o.useRef(()=>{});return o.useEffect(()=>{const c=s=>{if(s.target&&!r.current){let m=function(){Ae(bt,n,v,{discrete:!0})};const v={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=m,t.addEventListener("click",a.current,{once:!0})):m()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function wt(e,t=globalThis==null?void 0:globalThis.document){const n=U(e),r=o.useRef(!1);return o.useEffect(()=>{const a=c=>{c.target&&!r.current&&Ae(yt,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ge(){const e=new CustomEvent(ue);document.dispatchEvent(e)}function Ae(e,t,n,{discrete:r}){const a=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?nt(a,c):a.dispatchEvent(c)}const ne="focusScope.autoFocusOnMount",re="focusScope.autoFocusOnUnmount",be={bubbles:!1,cancelable:!0},Ct=o.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...i}=e,[s,v]=o.useState(null),m=U(a),d=U(c),f=o.useRef(null),g=M(t,u=>v(u)),h=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let u=function(y){if(h.paused||!s)return;const x=y.target;s.contains(x)?f.current=x:R(f.current,{select:!0})},p=function(y){if(h.paused||!s)return;const x=y.relatedTarget;x!==null&&(s.contains(x)||R(f.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&R(s)};document.addEventListener("focusin",u),document.addEventListener("focusout",p);const w=new MutationObserver(b);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",p),w.disconnect()}}},[r,s,h.paused]),o.useEffect(()=>{if(s){xe.add(h);const u=document.activeElement;if(!s.contains(u)){const b=new CustomEvent(ne,be);s.addEventListener(ne,m),s.dispatchEvent(b),b.defaultPrevented||(St(Rt(Pe(s)),{select:!0}),document.activeElement===u&&R(s))}return()=>{s.removeEventListener(ne,m),setTimeout(()=>{const b=new CustomEvent(re,be);s.addEventListener(re,d),s.dispatchEvent(b),b.defaultPrevented||R(u??document.body,{select:!0}),s.removeEventListener(re,d),xe.remove(h)},0)}}},[s,m,d,h]);const S=o.useCallback(u=>{if(!n&&!r||h.paused)return;const p=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,b=document.activeElement;if(p&&b){const w=u.currentTarget,[y,x]=Nt(w);y&&x?!u.shiftKey&&b===x?(u.preventDefault(),n&&R(y,{select:!0})):u.shiftKey&&b===y&&(u.preventDefault(),n&&R(x,{select:!0})):b===w&&u.preventDefault()}},[n,r,h.paused]);return o.createElement(L.div,N({tabIndex:-1},i,{ref:g,onKeyDown:S}))});function St(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(R(r,{select:t}),document.activeElement!==n)return}function Nt(e){const t=Pe(e),n=ye(t,e),r=ye(t.reverse(),e);return[n,r]}function Pe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ye(e,t){for(const n of e)if(!Ot(n,{upTo:t}))return n}function Ot(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Tt(e){return e instanceof HTMLInputElement&&"select"in e}function R(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Tt(e)&&t&&e.select()}}const xe=Dt();function Dt(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$e(e,t),e.unshift(t)},remove(t){var n;e=$e(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function $e(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Rt(e){return e.filter(t=>t.tagName!=="A")}const jt=o.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?Ye.createPortal(o.createElement(L.div,N({},a,{ref:t})),r):null});function kt(e,t){return o.useReducer((n,r)=>{const a=t[n][r];return a??n},e)}const Z=e=>{const{present:t,children:n}=e,r=At(t),a=typeof n=="function"?n({present:r.isPresent}):o.Children.only(n),c=M(r.ref,a.ref);return typeof n=="function"||r.isPresent?o.cloneElement(a,{ref:c}):null};Z.displayName="Presence";function At(e){const[t,n]=o.useState(),r=o.useRef({}),a=o.useRef(e),c=o.useRef("none"),i=e?"mounted":"unmounted",[s,v]=kt(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const m=H(r.current);c.current=s==="mounted"?m:"none"},[s]),le(()=>{const m=r.current,d=a.current;if(d!==e){const g=c.current,h=H(m);e?v("MOUNT"):h==="none"||(m==null?void 0:m.display)==="none"?v("UNMOUNT"):v(d&&g!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,v]),le(()=>{if(t){const m=f=>{const h=H(r.current).includes(f.animationName);f.target===t&&h&&Ge.flushSync(()=>v("ANIMATION_END"))},d=f=>{f.target===t&&(c.current=H(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:o.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function H(e){return(e==null?void 0:e.animationName)||"none"}let ae=0;function Pt(){o.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Ee()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Ee()),ae++,()=>{ae===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ae--}},[])}function Ee(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var O=function(){return O=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},O.apply(this,arguments)};function Ie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function It(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,c;r<a;r++)(c||!(r in t))&&(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return e.concat(c||Array.prototype.slice.call(t))}var Q="right-scroll-bar-position",Y="width-before-scroll-bar",_t="with-scroll-bars-hidden",Mt="--removed-body-scroll-bar-size";function oe(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Lt(e,t){var n=o.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Ft=typeof window<"u"?o.useLayoutEffect:o.useEffect,we=new WeakMap;function Ut(e,t){var n=Lt(null,function(r){return e.forEach(function(a){return oe(a,r)})});return Ft(function(){var r=we.get(n);if(r){var a=new Set(r),c=new Set(e),i=n.current;a.forEach(function(s){c.has(s)||oe(s,null)}),c.forEach(function(s){a.has(s)||oe(s,i)})}we.set(n,e)},[e]),n}function Bt(e){return e}function Wt(e,t){t===void 0&&(t=Bt);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var i=t(c,r);return n.push(i),function(){n=n.filter(function(s){return s!==i})}},assignSyncMedium:function(c){for(r=!0;n.length;){var i=n;n=[],i.forEach(c)}n={push:function(s){return c(s)},filter:function(){return n}}},assignMedium:function(c){r=!0;var i=[];if(n.length){var s=n;n=[],s.forEach(c),i=n}var v=function(){var d=i;i=[],d.forEach(c)},m=function(){return Promise.resolve().then(v)};m(),n={push:function(d){i.push(d),m()},filter:function(d){return i=i.filter(d),n}}}};return a}function Ht(e){e===void 0&&(e={});var t=Wt(null);return t.options=O({async:!0,ssr:!1},e),t}var _e=function(e){var t=e.sideCar,n=Ie(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,O({},n))};_e.isSideCarExport=!0;function Kt(e,t){return e.useMedium(t),_e}var Me=Ht(),ce=function(){},J=o.forwardRef(function(e,t){var n=o.useRef(null),r=o.useState({onScrollCapture:ce,onWheelCapture:ce,onTouchMoveCapture:ce}),a=r[0],c=r[1],i=e.forwardProps,s=e.children,v=e.className,m=e.removeScrollBar,d=e.enabled,f=e.shards,g=e.sideCar,h=e.noIsolation,S=e.inert,u=e.allowPinchZoom,p=e.as,b=p===void 0?"div":p,w=Ie(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=g,x=Ut([n,t]),E=O(O({},w),a);return o.createElement(o.Fragment,null,d&&o.createElement(y,{sideCar:Me,removeScrollBar:m,shards:f,noIsolation:h,inert:S,setCallbacks:c,allowPinchZoom:!!u,lockRef:n}),i?o.cloneElement(o.Children.only(s),O(O({},E),{ref:x})):o.createElement(b,O({},E,{className:v,ref:x}),s))});J.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};J.classNames={fullWidth:Y,zeroRight:Q};var Vt=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xt(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Vt();return t&&e.setAttribute("nonce",t),e}function qt(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zt(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Qt=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Xt())&&(qt(t,n),zt(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Yt=function(){var e=Qt();return function(t,n){o.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Le=function(){var e=Yt(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Gt={left:0,top:0,right:0,gap:0},se=function(e){return parseInt(e||"",10)||0},Zt=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[se(n),se(r),se(a)]},Jt=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Gt;var t=Zt(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},en=Le(),_="data-scroll-locked",tn=function(e,t,n,r){var a=e.left,c=e.top,i=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(_t,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(_,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Q,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Y,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Q," .").concat(Q,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Y," .").concat(Y,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_,`] {
    `).concat(Mt,": ").concat(s,`px;
  }
`)},Ce=function(){var e=parseInt(document.body.getAttribute(_)||"0",10);return isFinite(e)?e:0},nn=function(){o.useEffect(function(){return document.body.setAttribute(_,(Ce()+1).toString()),function(){var e=Ce()-1;e<=0?document.body.removeAttribute(_):document.body.setAttribute(_,e.toString())}},[])},rn=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;nn();var c=o.useMemo(function(){return Jt(a)},[a]);return o.createElement(en,{styles:tn(c,!t,a,n?"":"!important")})},de=!1;if(typeof window<"u")try{var K=Object.defineProperty({},"passive",{get:function(){return de=!0,!0}});window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{de=!1}var A=de?{passive:!1}:!1,an=function(e){return e.tagName==="TEXTAREA"},Fe=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!an(e)&&n[t]==="visible")},on=function(e){return Fe(e,"overflowY")},cn=function(e){return Fe(e,"overflowX")},Se=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Ue(e,n);if(r){var a=Be(e,n),c=a[1],i=a[2];if(c>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},sn=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ln=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ue=function(e,t){return e==="v"?on(t):cn(t)},Be=function(e,t){return e==="v"?sn(t):ln(t)},un=function(e,t){return e==="h"&&t==="rtl"?-1:1},dn=function(e,t,n,r,a){var c=un(e,window.getComputedStyle(t).direction),i=c*r,s=n.target,v=t.contains(s),m=!1,d=i>0,f=0,g=0;do{var h=Be(e,s),S=h[0],u=h[1],p=h[2],b=u-p-c*S;(S||b)&&Ue(e,s)&&(f+=b,g+=S),s=s.parentNode}while(!v&&s!==document.body||v&&(t.contains(s)||t===s));return(d&&(f===0||!a)||!d&&(g===0||!a))&&(m=!0),m},V=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ne=function(e){return[e.deltaX,e.deltaY]},Oe=function(e){return e&&"current"in e?e.current:e},fn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mn=0,P=[];function pn(e){var t=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),a=o.useState(mn++)[0],c=o.useState(function(){return Le()})[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var u=It([e.lockRef.current],(e.shards||[]).map(Oe),!0).filter(Boolean);return u.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),u.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=o.useCallback(function(u,p){if("touches"in u&&u.touches.length===2)return!i.current.allowPinchZoom;var b=V(u),w=n.current,y="deltaX"in u?u.deltaX:w[0]-b[0],x="deltaY"in u?u.deltaY:w[1]-b[1],E,F=u.target,D=Math.abs(y)>Math.abs(x)?"h":"v";if("touches"in u&&D==="h"&&F.type==="range")return!1;var $=Se(D,F);if(!$)return!0;if($?E=D:(E=D==="v"?"h":"v",$=Se(D,F)),!$)return!1;if(!r.current&&"changedTouches"in u&&(y||x)&&(r.current=E),!E)return!0;var k=r.current||E;return dn(k,p,u,k==="h"?y:x,!0)},[]),v=o.useCallback(function(u){var p=u;if(!(!P.length||P[P.length-1]!==c)){var b="deltaY"in p?Ne(p):V(p),w=t.current.filter(function(E){return E.name===p.type&&E.target===p.target&&fn(E.delta,b)})[0];if(w&&w.should){p.cancelable&&p.preventDefault();return}if(!w){var y=(i.current.shards||[]).map(Oe).filter(Boolean).filter(function(E){return E.contains(p.target)}),x=y.length>0?s(p,y[0]):!i.current.noIsolation;x&&p.cancelable&&p.preventDefault()}}},[]),m=o.useCallback(function(u,p,b,w){var y={name:u,delta:p,target:b,should:w};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(x){return x!==y})},1)},[]),d=o.useCallback(function(u){n.current=V(u),r.current=void 0},[]),f=o.useCallback(function(u){m(u.type,Ne(u),u.target,s(u,e.lockRef.current))},[]),g=o.useCallback(function(u){m(u.type,V(u),u.target,s(u,e.lockRef.current))},[]);o.useEffect(function(){return P.push(c),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",v,A),document.addEventListener("touchmove",v,A),document.addEventListener("touchstart",d,A),function(){P=P.filter(function(u){return u!==c}),document.removeEventListener("wheel",v,A),document.removeEventListener("touchmove",v,A),document.removeEventListener("touchstart",d,A)}},[]);var h=e.removeScrollBar,S=e.inert;return o.createElement(o.Fragment,null,S?o.createElement(c,{styles:vn(a)}):null,h?o.createElement(rn,{gapMode:"margin"}):null)}const hn=Kt(Me,pn);var We=o.forwardRef(function(e,t){return o.createElement(J,O({},e,{ref:t,sideCar:hn}))});We.classNames=J.classNames;var gn=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},I=new WeakMap,X=new WeakMap,q={},ie=0,He=function(e){return e&&(e.host||He(e.parentNode))},bn=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=He(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yn=function(e,t,n,r){var a=bn(t,Array.isArray(e)?e:[e]);q[n]||(q[n]=new WeakMap);var c=q[n],i=[],s=new Set,v=new Set(a),m=function(f){!f||s.has(f)||(s.add(f),m(f.parentNode))};a.forEach(m);var d=function(f){!f||v.has(f)||Array.prototype.forEach.call(f.children,function(g){if(s.has(g))d(g);else try{var h=g.getAttribute(r),S=h!==null&&h!=="false",u=(I.get(g)||0)+1,p=(c.get(g)||0)+1;I.set(g,u),c.set(g,p),i.push(g),u===1&&S&&X.set(g,!0),p===1&&g.setAttribute(n,"true"),S||g.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",g,b)}})};return d(t),s.clear(),ie++,function(){i.forEach(function(f){var g=I.get(f)-1,h=c.get(f)-1;I.set(f,g),c.set(f,h),g||(X.has(f)||f.removeAttribute(r),X.delete(f)),h||f.removeAttribute(n)}),ie--,ie||(I=new WeakMap,I=new WeakMap,X=new WeakMap,q={})}},xn=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=gn(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),yn(r,a,n,"aria-hidden")):function(){return null}};const Ke="Dialog",[Ve,er]=rt(Ke),[$n,T]=Ve(Ke),En=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:c,modal:i=!0}=e,s=o.useRef(null),v=o.useRef(null),[m=!1,d]=at({prop:r,defaultProp:a,onChange:c});return o.createElement($n,{scope:t,triggerRef:s,contentRef:v,contentId:te(),titleId:te(),descriptionId:te(),open:m,onOpenChange:d,onOpenToggle:o.useCallback(()=>d(f=>!f),[d]),modal:i},n)},wn="DialogTrigger",Cn=o.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=T(wn,n),c=M(t,a.triggerRef);return o.createElement(L.button,N({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":me(a.open)},r,{ref:c,onClick:j(e.onClick,a.onOpenToggle)}))}),Xe="DialogPortal",[Sn,qe]=Ve(Xe,{forceMount:void 0}),Nn=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,c=T(Xe,t);return o.createElement(Sn,{scope:t,forceMount:n},o.Children.map(r,i=>o.createElement(Z,{present:n||c.open},o.createElement(jt,{asChild:!0,container:a},i))))},fe="DialogOverlay",On=o.forwardRef((e,t)=>{const n=qe(fe,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,c=T(fe,e.__scopeDialog);return c.modal?o.createElement(Z,{present:r||c.open},o.createElement(Tn,N({},a,{ref:t}))):null}),Tn=o.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=T(fe,n);return o.createElement(We,{as:ot,allowPinchZoom:!0,shards:[a.contentRef]},o.createElement(L.div,N({"data-state":me(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),B="DialogContent",Dn=o.forwardRef((e,t)=>{const n=qe(B,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,c=T(B,e.__scopeDialog);return o.createElement(Z,{present:r||c.open},c.modal?o.createElement(Rn,N({},a,{ref:t})):o.createElement(jn,N({},a,{ref:t})))}),Rn=o.forwardRef((e,t)=>{const n=T(B,e.__scopeDialog),r=o.useRef(null),a=M(t,n.contentRef,r);return o.useEffect(()=>{const c=r.current;if(c)return xn(c)},[]),o.createElement(ze,N({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:j(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,s=i.button===0&&i.ctrlKey===!0;(i.button===2||s)&&c.preventDefault()}),onFocusOutside:j(e.onFocusOutside,c=>c.preventDefault())}))}),jn=o.forwardRef((e,t)=>{const n=T(B,e.__scopeDialog),r=o.useRef(!1),a=o.useRef(!1);return o.createElement(ze,N({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,c),!c.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),c.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:c=>{var i,s;(i=e.onInteractOutside)===null||i===void 0||i.call(e,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const v=c.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(v))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}}))}),ze=o.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:c,...i}=e,s=T(B,n),v=o.useRef(null),m=M(t,v);return Pt(),o.createElement(o.Fragment,null,o.createElement(Ct,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:c},o.createElement($t,N({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":me(s.open)},i,{ref:m,onDismiss:()=>s.onOpenChange(!1)}))),!1)});const kn="DialogClose",An=o.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=T(kn,n);return o.createElement(L.button,N({type:"button"},r,{ref:t,onClick:j(e.onClick,()=>a.onOpenChange(!1))}))});function me(e){return e?"open":"closed"}const Pn=En,In=Cn,_n=Nn,Mn=On,Ln=Dn,Fn=An,Te=({closeButtonRef:e,trigger:t,children:n})=>l.jsxs(Pn,{children:[l.jsx(In,{asChild:!0,children:t}),l.jsxs(_n,{children:[l.jsx(Mn,{className:"z-[100]  data-[state=open]:animate-overlayShow fixed inset-0"}),l.jsxs(Ln,{className:"z-[101] data-[state=open]:animate-contentShow fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-slate-800 text-white p-[25px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none",children:[n,l.jsx(Fn,{asChild:!0,children:l.jsx("button",{className:"text-violet11 hover:bg-violet4 focus:shadow-violet7 absolute top-[10px] right-[10px] inline-flex mb-4 h-[25px] w-[25px] appearance-none items-center justify-center rounded-full focus:shadow-[0_0_0_2px] focus:outline-none","aria-label":"Close",ref:e,children:l.jsx(dt,{})})})]})]})]}),Un=({addTrigger:e,className:t})=>{const[n,r]=o.useState({}),a=(i,s)=>{r(v=>({...v,[i]:s}))},c=i=>{i.preventDefault(),console.log(n),e(n).then(()=>{r({}),Ze.success("Trigger added successfully")})};return l.jsxs("form",{onSubmit:c,className:G("space-y-4",t),children:[l.jsx("div",{children:l.jsxs("label",{className:"block",children:["Start Date:",l.jsx("input",{type:"date",value:n.StartDate,onChange:i=>a("StartDate",i.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"})]})}),l.jsx("div",{children:l.jsxs("label",{className:"block",children:["Start Time:",l.jsx("input",{type:"time",value:n.StartTime,onChange:i=>a("StartTime",i.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"})]})}),n.RunOnce?null:l.jsx("div",{children:l.jsxs("label",{className:"block",children:["Interval (HH:MM:SS):",l.jsxs("div",{className:"flex justify-start items-center space-x-1",children:[l.jsx("input",{type:"number",min:0,max:23,value:n.IntervalHours,onChange:i=>a("IntervalHours",parseInt(i.target.value)),placeholder:"HH",className:"mt-1 block w-1/5 rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"}),l.jsx("span",{children:":"}),l.jsx("input",{type:"number",value:n.IntervalMinutes,min:0,max:59,onChange:i=>a("IntervalMinutes",parseInt(i.target.value)),placeholder:"MM",className:"mt-1 block w-1/5 rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"}),l.jsx("span",{children:":"}),l.jsx("input",{type:"number",value:n.IntervalSeconds,min:0,max:59,onChange:i=>a("IntervalSeconds",parseInt(i.target.value)),placeholder:"SS",className:"mt-1 block w-1/5 rounded-md border-gray-300 shadow-sm p-1 text-black bg-white hover:bg-gray-100"})]})]})}),l.jsxs("div",{className:"flex items-center justify-start space-x-1",children:[l.jsx("input",{type:"checkbox",onChange:i=>a("RunOnce",i.target.checked),className:"mt-1 h-5 w-5 rounded",checked:n.RunOnce}),l.jsx("label",{className:"block",children:"Run Once"})]}),l.jsxs("div",{className:"flex items-center justify-start space-x-1",children:[l.jsx("input",{type:"checkbox",checked:n.RemoveExistingTriggers,onChange:i=>a("RemoveExistingTriggers",i.target.checked),className:"mt-1 h-5 w-5 rounded"}),l.jsx("label",{className:"block",children:"Clear Existing Triggers"})]}),n.RemoveExistingTriggers?l.jsxs("div",{className:"bg-orange-200 border-orange-700 border text-red-900 p-1 rounded flex items-center space-x-1",children:[l.jsx(ut,{className:"h-4 w-4"})," ",l.jsx("span",{className:"text-sm",children:"All the existing triggers will be removed."})]}):null,l.jsx("div",{children:l.jsx("input",{type:"submit",value:"Add Trigger",className:"w-full py-2 px-4 text-white bg-blue-500 rounded hover:bg-blue-600"})})]})},Bn=({className:e,children:t})=>l.jsxs("div",{className:G("relative flex items-center justify-center mx-2",e),children:[l.jsx("div",{"data-path":!0,className:"rounded-full border-4 relative border-green-200 flex items-center justify-center",children:l.jsx("div",{"data-child":!0,className:"p-1 h-full w-full flex justify-center items-center",children:t})}),l.jsx("div",{"data-spinning":!0,className:"peer h-full w-2 border-0 border-t-4 rounded-full border-green-600 animate-spin absolute"})]}),De=async e=>(await ve.post("/api/queue/",e)).data,Wn=async e=>(await ve.get(`/api/queue/${e}`)).data??[],Hn=e=>ke({queryKey:["tasks",e],queryFn:async()=>Wn(e),enabled:!0,retry:!1});function Kn(e){const[t,n]=o.useState([]),{data:r}=Hn(e);return o.useEffect(()=>{r&&n(r)},[r]),[t]}let z;const Vn=new Uint8Array(16);function Xn(){if(!z&&(z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(Vn)}const C=[];for(let e=0;e<256;++e)C.push((e+256).toString(16).slice(1));function qn(e,t=0){return C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]}const zn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Re={randomUUID:zn};function je(e,t,n){if(Re.randomUUID&&!t&&!e)return Re.randomUUID();e=e||{};const r=e.random||(e.rng||Xn)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qn(r)}const Qn=({task:e,className:t})=>{var v,m;const[n,r]=o.useState(!1),[a]=Kn(e.Id),c=o.useRef(null),i=()=>{r(!0),De({TaskId:e.Id,Operation:"ExecuteNow",Payload:"{}",CreatedOn:Date.now(),Id:je(),CompletedOn:null,Message:null}).finally(()=>r(!1))},s=d=>(r(!0),De({TaskId:e.Id,Operation:"Schedule",Payload:JSON.stringify(d),CreatedOn:Date.now(),Id:je(),CompletedOn:null,Message:null}).then(()=>{var f;return(f=c.current)==null?void 0:f.click()}).finally(()=>r(!1)));return l.jsxs("div",{className:G("flex flex-col bg-slate-900 w-full p-4 max-w-2xl mt-4 rounded-lg shadow-md space-y-2",t),children:[l.jsx("div",{className:"text-green-300 font-bold text-xl",children:e.Name}),l.jsx("div",{className:"bg-blue-900 text-blue-300 w-fit px-4 py-1 rounded",children:e.Status}),l.jsx("div",{className:"bg-slate-800 text-white p-2 rounded",children:e.Description}),l.jsx("div",{className:"text-white",children:(m=(v=e.Trigger)==null?void 0:v.split("-:::-"))==null?void 0:m.map((d,f)=>l.jsx("div",{children:d},f))}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[n?l.jsx(Bn,{}):null," ",l.jsx(Te,{trigger:l.jsxs("button",{className:"bg-blue-600 text-white h-8 space-x-2 px-2 rounded flex justify-center items-center disabled:bg-blue-400 disabled:cursor-not-allowed",disabled:n,children:[l.jsx(it,{className:"h-4 w-4"})," History"]}),children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{className:"rounded my-1 bg-green-600 text-white",children:[l.jsx("th",{className:"text-left px-1",children:"Operation"}),l.jsx("th",{className:"text-left px-1",children:"Created On"}),l.jsx("th",{className:"text-left px-1",children:"Completed On"}),l.jsx("th",{className:"text-left px-1",children:"Message"})]})}),l.jsx("tbody",{children:a==null?void 0:a.map(d=>l.jsxs("tr",{className:G("p-2 bg-slate-800 rounded my-1 text-white",{}),children:[l.jsx("td",{className:"text-left px-1",children:d.Operation}),l.jsx("td",{className:"text-left px-1",children:new Date(d.CreatedOn).toLocaleString()}),l.jsx("td",{className:"text-left px-1",children:d.CompletedOn?new Date(d.CompletedOn*1e3).toLocaleString():null}),l.jsx("td",{className:"text-left px-1",children:d.Message})]},d.Id))})]})}),l.jsx(Je,{roles:["CCAA.Custom.Owner"],children:l.jsx(Te,{closeButtonRef:c,trigger:l.jsxs("button",{className:"bg-orange-600 text-white h-8 space-x-2 px-2 rounded flex justify-center items-center disabled:bg-orange-400 disabled:cursor-not-allowed",disabled:n,children:[l.jsx(st,{className:"h-4 w-4"})," Schedule"]}),children:l.jsx(Un,{addTrigger:s,className:"min-w-72"})})}),l.jsxs("button",{className:"bg-green-500 text-white h-8 space-x-2 px-2 rounded flex justify-center items-center disabled:bg-green-400 disabled:cursor-not-allowed",disabled:n,onClick:i,children:[l.jsx(lt,{className:"h-4 w-4"})," Run Now"]})]})]})},tr=({})=>{const[e]=mt();return l.jsx("div",{className:"h-full w-full flex flex-col items-center p-2",children:l.jsxs("div",{className:"w-full lg:w-1/2 2xl:w-1/3 ",children:[l.jsx("div",{className:"w-72",children:l.jsxs(et,{to:"/home",className:"text-blue-300 flex justify-start items-center underline mb-8 hover:text-green-400 cursor-pointer",children:[l.jsx(ct,{className:"h-6 w-6 mr-2"})," Home"]})}),l.jsxs("div",{className:"text-2xl font-semibold col-span-2 flex justify-start items-center my-4 text-slate-300",children:[l.jsx(tt,{className:"h-7 w-7 mr-2"})," Windows Task Management"]}),e==null?void 0:e.map(t=>l.jsx(Qn,{task:t},t.Id))]})})};export{tr as HomePage,tr as default};
